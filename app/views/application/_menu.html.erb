<nav class="header collapse d-lg-flex p-0" id="menu">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-3 ml-auto"></div>
      <div class="col-lg order-lg-first">
        <ul class="nav nav-tabs border-0 flex-column flex-lg-row">
          <li class="nav-item">
            <%= link_to root_path, class: "nav-link link #{'active font-weight-bold' if controller_name == 'dashboards'} py-4" do %>
              <i class="fas fa-chart-line mr-2"></i>Dashboard
            <% end %>
          </li>
          <% current_user.roles.includes(:app_module).each do |role| %>
            <% if role.reference == 'manage' || role.reference == 'index' %>
              <% if role.app_module.registry? %>
                <li class="nav-item dropdown">
                  <a href="javascript:void(0)" class="nav-link link <%= "#{active_action? role.name.pluralize.camelize.underscore}" %> py-4" data-toggle="dropdown" aria-expanded="false">
                    <%= role.app_module.name.html_safe %>
                  </a>

                  <div class="dropdown-menu dropdown-menu-arrow" x-placement="bottom-start">
                    <%= link_to send("#{role.url}"), class: 'dropdown-item' do %>
                      <i class="<%= role.icon %> dropdown-icon"></i><%= role.name.singularize.constantize.model_name.human(count: 2) %>
                    <% end %>
                  </div>
                </li>
              <% end %>
            <% end %>
          <% end %>
        </ul>
      </div>
    </div>
  </div>
</nav>
