<div class="dimmer">
  <div class="loader"></div>
  <div class="dimmer-content">
    <% if @appointment_bookings.any? %>
      <div class="card-body p-3">
        <h3 class="mb-0 text-blue-deep text-center"><%= l @appointment_bookings.first.appointment_date, format: :long %></h3>
      </div>
      <div class="card-body p-0 o-auto" style="max-height: 30rem;">
        <div class="table-responsive">
          <table class="table card-table table-vcenter text-nowrap table-hover border-bottom">
            <thead>
            <tr>
              <th><%= AppointmentBooking.human_attribute_name :family_member %></th>
              <th><%= AppointmentBooking.human_attribute_name :medical_procedure %></th>
              <th><%= AppointmentBooking.human_attribute_name :start_hour %></th>
              <th><%= t('helpers.actions.action') %></th>
            </tr>
            </thead>
            <tbody>
            <% @appointment_bookings.each do |ab| %>
              <tr>
                <td><%= "#{ab.family_member.name}, #{distance_of_time_in_words(ab.family_member.birth_date, Time.current.to_date, only: :years).upcase}" %></td>
                <td><%= ab.medical_procedure.name[0..40] %></td>
                <td><%= ab.start_hour.strftime('%H:%M') %></td>
                <td class="text-center">
                  <%= render 'application/table_links', f: ab %>
                </td>
              </tr>
            <% end %>
            </tbody>
          </table>
        </div>
      </div>
    <% else %>
      <div class="card-body">
        <div class="alert alert-warning text-center">
          <i class="fas fa-exclamation-triangle mr-2"></i>Nenhum agendamento encontrado.
        </div>
      </div>
    <% end %>
  </div>
</div>
